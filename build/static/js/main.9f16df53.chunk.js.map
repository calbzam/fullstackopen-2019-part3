{"version":3,"sources":["components/PersonForm.js","components/Person.js","services/Phonebook.js","components/Search.js","components/Notification.js","index.js"],"names":["PersonsForm","props","react_default","a","createElement","Fragment","onSubmit","addPerson","value","name","onChange","onChangeName","number","onChangeNumber","type","Person","onClick","toggleButton","Phonebook","axios","get","then","response","data","personObject","post","id","delete","concat","isFiltered","persons","filteredName","filter","person","toLowerCase","includes","length","Notification","_ref","message","className","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilteredName","_useState9","_useState10","errorMessage","setErrorMessage","useEffect","dataPersons","personsToShow","components_Notification","placeholder","event","target","PersonForm","preventDefault","undefined","find","setTimeout","catch","error","alert","map","components_Person","key","window","confirm","newPhonebook","document","getElementById"],"mappings":"qMA4BeA,EA1BK,SAACC,GAEjB,OACIC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACCH,EAAAC,EAAAC,cAAA,QAAME,SAAUL,EAAMM,WACnBL,EAAAC,EAAAC,cAAA,mBAEAF,EAAAC,EAAAC,cAAA,SACII,MAAOP,EAAMQ,KACbC,SAAUT,EAAMU,gBAGpBT,EAAAC,EAAAC,cAAA,qBAEAF,EAAAC,EAAAC,cAAA,SACII,MAAOP,EAAMW,OACbF,SAAUT,EAAMY,kBAEpBX,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAQU,KAAK,UAAb,WCTDC,EAVA,SAACd,GACd,OACEC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,WAAMH,EAAMQ,KAAZ,IAAmBR,EAAMW,OAAzB,IAAiCV,EAAAC,EAAAC,cAAA,UAAQY,QAASf,EAAMgB,cAAvB,8BCY1BC,EAfA,WAEX,OADgBC,IAAMC,IAHV,gBAIGC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAa9BL,EAVA,SAAAM,GAEX,OADgBL,IAAMM,KARV,eAQwBD,GACrBH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAQ9BL,EALA,SAAAQ,GAEX,OADgBP,IAAMQ,OAAN,GAAAC,OAbJ,eAaI,KAAAA,OAA2BF,KCNhCG,EARI,SAACC,EAASC,GACzB,OAAID,EAAQE,OAAO,SAAAC,GAAM,OAAIA,EAAOxB,KAAKyB,cAAcC,SAASJ,EAAaG,iBAAgBE,SAAWN,EAAQM,QCarGC,EAZM,SAAAC,GAAiB,IAAdC,EAAcD,EAAdC,QACpB,OAAgB,OAAZA,EACK,KAIPrC,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,SACZD,UCuGTE,IAASC,OAAOxC,EAAAC,EAAAC,cAvGJ,WAAM,IAAAuC,EACeC,mBAAS,IADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRb,EADQe,EAAA,GACCG,EADDH,EAAA,GAAAI,EAEgBL,mBAAS,IAFzBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAERE,EAFQD,EAAA,GAECE,EAFDF,EAAA,GAAAG,EAGoBT,mBAAS,IAH7BU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAGRE,EAHQD,EAAA,GAGGE,EAHHF,EAAA,GAAAG,EAI0Bb,mBAAS,IAJnCc,EAAAZ,OAAAC,EAAA,EAAAD,CAAAW,EAAA,GAIR1B,EAJQ2B,EAAA,GAIMC,EAJND,EAAA,GAAAE,EAKwBhB,mBAAS,MALjCiB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAKTE,EALSD,EAAA,GAKKE,EALLF,EAAA,GAOhBG,oBAAU,WACRC,IAEG5C,KAAK,SAAAY,GACJe,EAAWf,MAEd,IAEH,IAqEQiC,EAAiBrC,EAAWC,EAASC,GAAgBD,EAAUA,EAAQE,OAAO,SAAAC,GAAM,OAAIA,EAAOxB,KAAKyB,cAAcC,SAASJ,EAAaG,iBAGhJ,OACEhC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAC+D,EAAD,CAAc5B,QAASuB,IACvB5D,EAAAC,EAAAC,cAAA,iCACuBF,EAAAC,EAAAC,cAAA,SAAOI,MAAOuB,EAAcqC,YAAY,qBAAqB1D,SA7E9D,SAAC2D,GACzBV,EAAgBU,EAAMC,OAAO9D,WA8E3BN,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAACmE,EAAD,CAAYhE,UApEC,SAAC8D,GAChBA,EAAMG,iBACN,IAAMzD,EAAS,CACbN,KAAM0C,EACNvC,OAAQ2C,QAG+CkB,IAArD3C,EAAQ4C,KAAM,SAAAzC,GAAM,OAAIA,EAAOxB,OAAS0C,IAK7Cc,EACQlD,GACPM,KAAK,SAAAE,GACJyB,EAAWlB,EAAQF,OAAOL,IAC1B6B,EAAW,IACXI,EAAa,IACbO,EAAe,GAAAnC,OACXb,EAAON,KADI,4CAGhBkE,WAAW,WACTZ,EAAgB,OACf,KACFa,MAAM,SAAAC,GACLd,EAAe,uBAAAnC,OACUiD,EAAMvD,SAASC,WAlBxCuD,MAAK,GAAAlD,OAAIb,EAAON,KAAX,oCA4D6BA,KAAM0C,EAASxC,aA5E5B,SAAC0D,GACxBjB,EAAWiB,EAAMC,OAAO9D,QA2E2DI,OAAQ2C,EAAW1C,eAxE7E,SAACwD,GAC1Bb,EAAaa,EAAMC,OAAO9D,UAwExBN,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,WArBiB8D,EAAca,IAAI,SAAA9C,GAAM,OACzC/B,EAAAC,EAAAC,cAAC4E,EAAD,CACAC,IAAKhD,EAAOxB,KACZA,KAAMwB,EAAOxB,KACbG,OAAQqB,EAAOrB,OACfK,aAAc,kBAtBIS,EAsBeO,EAAOP,GAtBlBjB,EAsBsBwB,EAAOxB,UArBjDyE,OAAOC,QAAP,gCAAAvD,OAA+CnB,EAA/C,QACFwD,EACUvC,GACPL,KAAK,WACJ,IAAM+D,EAAetD,EAAQE,OAAO,SAAAC,GAAM,OAAIA,EAAOP,KAAOA,IAC5DsB,EAAWoC,GACXrB,EAAe,GAAAnC,OACVnB,EADU,gDAGfkE,WAAW,WACTZ,EAAgB,OACf,QAZU,IAACrC,EAAIjB,UA4CZ,MAAS4E,SAASC,eAAe","file":"static/js/main.9f16df53.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonsForm = (props) => {  \n\n    return (\n        <>\n         <form onSubmit={props.addPerson}>\n            <div>\n                name:\n            <input\n                value={props.name}\n                onChange={props.onChangeName} />\n            </div>\n\n            <div>\n                number:\n            <input\n                value={props.number}\n                onChange={props.onChangeNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>    \n        </>\n    )\n}\n\nexport default PersonsForm;\n","import React from 'react'\n\nconst Person = (props) => {\n  return (\n    <>\n      <p>\n        <div>{props.name} {props.number} <button onClick={props.toggleButton}>delete</button></div>\n      </p> \n    </>\n  )\n}\n\nexport default Person;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = personObject => {\n    const request = axios.post(baseUrl, personObject)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request\n}\n\nexport default {getAll, create, remove}","const isFiltered = (persons, filteredName) => {\n    if (persons.filter(person => person.name.toLowerCase().includes(filteredName.toLowerCase())).length === persons.length) {\n      return true\n    } else {\n      return false\n    }\n}\n\nexport default isFiltered","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport dataPersons from './services/Phonebook'\nimport isFiltered from './components/Search'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]); \n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filteredName, setFilteredName ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    dataPersons\n      .getAll()\n      .then(person => {\n        setPersons(person)\n      })\n  }, [])\n\n  const inputFilterChange = (event) => {\n    setFilteredName(event.target.value)\n}\n\n  const HandleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const HandleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const AddPerson= (event) => {\n    event.preventDefault()\n    const Person = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (persons.find( person => person.name === newName) !== undefined ){\n      alert(`${Person.name} is already added to phonebook`)\n      return\n   } \n\n   dataPersons\n   .create(Person)\n   .then(data => {\n     setPersons(persons.concat(data));\n     setNewName(''); \n     setNewNumber(''); \n     setErrorMessage(\n      `${Person.name} was successfuly added to the phonebook`\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 4000)\n    .catch(error => {\n      setErrorMessage(\n        `cannot save person: ${error.response.data}`\n      )\n    })\n   })\n  }\n\n  const removePerson = (id, name) => {\n    if (window.confirm(`Do you really want to delete ${name} ?`)) {\n      dataPersons\n        .remove(id)\n        .then(() => {\n          const newPhonebook = persons.filter(person => person.id !== id)\n          setPersons(newPhonebook)\n          setErrorMessage(\n            `${name} was successfuly removed from the phonebook`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 4000)\n        })\n    }\n  }\n\n    const rows = () => personsToShow.map(person =>\n      <Person\n      key={person.name}\n      name={person.name}\n      number={person.number}\n      toggleButton={() => removePerson(person.id, person.name)}\n      />)\n\n    const personsToShow =  isFiltered(persons, filteredName) ? persons : persons.filter(person => person.name.toLowerCase().includes(filteredName.toLowerCase()))\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <div>\n          filter shown with: <input value={filteredName} placeholder=\"Search a name here\" onChange={inputFilterChange}/>\n      </div>\n      <h3>Add a new:</h3>\n      <PersonForm addPerson={AddPerson} name={newName} onChangeName={HandleNameChange} number={newNumber} onChangeNumber={HandleNumberChange}/>\n      <h2>Numbers</h2>\n      <div>\n        {rows()}\n      </div>\n    </div>\n  )\n}\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}